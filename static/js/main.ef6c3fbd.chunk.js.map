{"version":3,"sources":["Components/ImageGalleryItem/styles.module.css","Components/Modal/styles.module.css","Components/ImageGallery/styles.module.css","Components/Button/styles.module.css","Components/Spinner/styles.module.css","Components/SearchBar/SearchBar.js","Components/ImageGallery/ImageGallery.js","ApiServise.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/Spinner/Spinner.js","App.js","index.js","Components/SearchBar/styles.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","currentTarget","value","onSubmit","preventDefault","props","className","styles","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGallery","onClick","children","fetchImage","fetchQuery","page","axios","get","then","response","data","hits","ImageGalleryItem","images","map","id","webformatURL","src","alt","ImageGalleryItemImage","propTypeS","PropTypes","shape","number","isRequired","string","Button","modalRootRef","document","querySelector","Modal","handleKeyDown","code","showModal","handleOverleyClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","modalImg","Spinner","spinner","App","modal","onChangeQuery","toggleModal","nodeName","getImgUrl","targetImg","find","Number","largeImageURL","fetchImages","prevState","prevProp","scrollWindow","scrollTo","top","documentElement","scrollHeight","behavior","length","color","height","width","visible","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ef6c3fbd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"styles_ImageGalleryItem__3tHqO\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__278ye\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__3v4PT\",\"Modal\":\"styles_Modal__L_dY0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"styles_ImageGallery__1GC3Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__hkWbF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"styles_spinner__1UCj_\"};","import React, { Component } from 'react';\nimport styles from './styles.module.css';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            value={this.state.query}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport styles from './styles.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ onClick, children }) => {\n  return (\n    <ul className={styles.ImageGallery} onClick={onClick}>\n      {children}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\nconst BASEURL = 'https://pixabay.com/api/';\nconst APIKEY = '19641016-0771c97f44f84fb3a7a4f0c18';\n\nconst fetchImage = (fetchQuery, page) => {\n  return axios\n    .get(\n      `${BASEURL}?q=${fetchQuery}&page=${page}&key=${APIKEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default fetchImage;\n","import React from 'react';\nimport styles from './styles.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ images }) => {\n  return images.map(({ id, webformatURL, type }) => (\n    <li key={id} className={styles.ImageGalleryItem}>\n      <img\n        id={id}\n        src={webformatURL}\n        alt={type}\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  ));\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypeS = {\n  images: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }),\n};\n","import React from 'react';\nimport styles from './styles.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\n      Load more...\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './styles.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRootRef = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    showModal: PropTypes.func.isRequired,\n    modalImg: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.showModal();\n    }\n  };\n\n  handleOverleyClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.showModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div onClick={this.handleOverleyClick} className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src={this.props.modalImg} alt=\"\" />\n        </div>\n      </div>,\n      modalRootRef,\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './styles.module.css';\n\nconst modalRootRef = document.querySelector('#modal-root');\n\nconst Spinner = ({ children }) => {\n  return createPortal(\n    <div className={styles.spinner}> {children}</div>,\n    modalRootRef,\n  );\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport SearchBar from './Components/SearchBar';\nimport ImageGallery from './Components/ImageGallery/index';\nimport fetchImage from './ApiServise';\nimport ImageGalleryItem from './Components/ImageGalleryItem';\nimport Button from './Components/Button';\nimport Modal from './Components/Modal';\nimport Loader from 'react-loader-spinner';\nimport Spinner from './Components/Spinner';\nimport './styles.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    fetchQuery: '',\n    page: 1,\n    modal: false,\n    modalImg: '',\n    spinner: false,\n  };\n\n  componentDidUpdate(prevProp, prevState) {\n    if (prevState.fetchQuery !== this.state.fetchQuery) {\n      this.fetchImages();\n    }\n\n    this.scrollWindow();\n  }\n\n  scrollWindow() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = query => {\n    this.setState({ fetchQuery: query, page: 1, images: [], spinner: true });\n  };\n\n  toggleModal = () => {\n    this.setState(({ modal }) => ({\n      modal: !modal,\n    }));\n  };\n\n  showModal = e => {\n    if (e.target.nodeName === 'IMG') {\n      this.toggleModal();\n    }\n\n    this.getImgUrl(e);\n  };\n\n  getImgUrl = e => {\n    const { images } = this.state;\n\n    const targetImg = images.find(({ id }) => id === Number(e.target.id));\n\n    this.setState({ modalImg: targetImg.largeImageURL });\n  };\n\n  fetchImages = () => {\n    const { fetchQuery, page } = this.state;\n    this.setState({ spinner: true });\n\n    fetchImage(fetchQuery, page).then(images => {\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        spinner: false,\n\n        page: (prevState.page += 1),\n      }));\n    });\n  };\n\n  render() {\n    const { images, modal, modalImg, spinner } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.onChangeQuery} />\n        <ImageGallery onClick={this.showModal}>\n          <ImageGalleryItem images={images} />\n        </ImageGallery>\n\n        {images.length > 0 && <Button onClick={this.fetchImages} />}\n        {modal && <Modal modalImg={modalImg} showModal={this.toggleModal} />}\n        <Spinner>\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            visible={spinner}\n          />\n        </Spinner>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__2HdxK\",\"SearchForm\":\"styles_SearchForm__2_Q9F\",\"SearchFormButton\":\"styles_SearchFormButton__3gwb5\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__1eajN\",\"SearchFormInput\":\"styles_SearchFormInput__1E37b\"};"],"sourceRoot":""}